<form class="{{cssClass}} flexcol" autocomplete="off">
  <!-- Item Header -->
  <header class="item-header flexrow">
    <img class="item-image" src="{{item.img}}" title="{{item.name}}" data-edit="img"/>
    <div class="header-fields flexcol">
      <h1 class="item-name">
        <input name="name" type="text" value="{{item.name}}" placeholder="Item Name"/>
      </h1>
      <div class="item-type">
        <select name="type">
          {{selectOptions config.itemTypes selected=type localize=true}}
        </select>
      </div>
    </div>
  </header>

  <!-- Item Body -->
  <section class="item-body">

    <!-- Basic Information -->
    <div class="item-section">
      <h3>Basic Information</h3>
      <div class="form-group">
        <label>Description</label>
        <textarea name="system.description.value">{{system.description.value}}</textarea>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Quantity</label>
          <input name="system.quantity" type="number" value="{{system.quantity}}" min="0"/>
        </div>
        <div class="form-group">
          <label>Weight (lbs)</label>
          <input name="system.weight" type="number" value="{{system.weight}}" min="0" step="0.1"/>
        </div>
      </div>
    </div>

    <!-- Type-Specific Fields -->
    {{#if (eq type "weapon")}}
    <div class="item-section">
      <h3>Weapon Properties</h3>
      <div class="form-row">
        <div class="form-group">
          <label>Weapon Type</label>
          <select name="system.weaponType">
            <option value="simple" {{#if (eq system.weaponType "simple")}}selected{{/if}}>Simple</option>
            <option value="martial" {{#if (eq system.weaponType "martial")}}selected{{/if}}>Martial</option>
            <option value="exotic" {{#if (eq system.weaponType "exotic")}}selected{{/if}}>Exotic</option>
          </select>
        </div>
        <div class="form-group">
          <label>Subtype</label>
          <select name="system.weaponSubtype">
            <option value="light" {{#if (eq system.weaponSubtype "light")}}selected{{/if}}>Light</option>
            <option value="one-handed" {{#if (eq system.weaponSubtype "one-handed")}}selected{{/if}}>One-Handed</option>
            <option value="two-handed" {{#if (eq system.weaponSubtype "two-handed")}}selected{{/if}}>Two-Handed</option>
            <option value="ranged" {{#if (eq system.weaponSubtype "ranged")}}selected{{/if}}>Ranged</option>
          </select>
        </div>
      </div>
      <div class="form-group">
        <label>Damage</label>
        <input name="system.damage.parts.0.0" type="text" value="{{system.damage.parts.0.0}}" placeholder="1d6"/>
        <select name="system.damage.parts.0.1">
          <option value="physical" {{#if (eq system.damage.parts.0.1 "physical")}}selected{{/if}}>Physical</option>
          <option value="fire" {{#if (eq system.damage.parts.0.1 "fire")}}selected{{/if}}>Fire</option>
          <option value="cold" {{#if (eq system.damage.parts.0.1 "cold")}}selected{{/if}}>Cold</option>
          <option value="acid" {{#if (eq system.damage.parts.0.1 "acid")}}selected{{/if}}>Acid</option>
          <option value="electricity" {{#if (eq system.damage.parts.0.1 "electricity")}}selected{{/if}}>Electricity</option>
        </select>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Critical Range</label>
          <input name="system.damage.critRange" type="number" value="{{system.damage.critRange}}" min="2" max="20"/>
        </div>
        <div class="form-group">
          <label>Critical Multiplier</label>
          <input name="system.damage.critMult" type="number" value="{{system.damage.critMult}}" min="2" max="5"/>
        </div>
      </div>
      <div class="form-group">
        <label>Equipped</label>
        <input type="hidden" name="system.equipped" value="0"/>
        <input type="checkbox" name="system.equipped" value="1" {{#if system.equipped}}checked{{/if}}/>
      </div>
    </div>
    {{/if}}

    {{#if (eq type "equipment")}}
    <div class="item-section">
      <h3>Equipment Properties</h3>
      <div class="form-row">
        <div class="form-group">
          <label>Equipment Type</label>
          <select name="system.equipmentType">
            <option value="armor" {{#if (eq system.equipmentType "armor")}}selected{{/if}}>Armor</option>
            <option value="shield" {{#if (eq system.equipmentType "shield")}}selected{{/if}}>Shield</option>
            <option value="misc" {{#if (eq system.equipmentType "misc")}}selected{{/if}}>Miscellaneous</option>
          </select>
        </div>
        <div class="form-group">
          <label>Armor Bonus</label>
          <input name="system.armor.value" type="number" value="{{system.armor.value}}" min="0"/>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Max Dex Bonus</label>
          <input name="system.armor.dex" type="number" value="{{system.armor.dex}}" min="0"/>
        </div>
        <div class="form-group">
          <label>Armor Check Penalty</label>
          <input name="system.armor.acp" type="number" value="{{system.armor.acp}}" min="0"/>
        </div>
      </div>
      <div class="form-group">
        <label>Spell Failure</label>
        <input name="system.spellFailure" type="number" value="{{system.spellFailure}}" min="0" max="100"/>%
      </div>
      <div class="form-group">
        <label>Equipped</label>
        <input type="hidden" name="system.equipped" value="0"/>
        <input type="checkbox" name="system.equipped" value="1" {{#if system.equipped}}checked{{/if}}/>
      </div>
    </div>
    {{/if}}

    {{#if (eq type "consumable")}}
    <div class="item-section">
      <h3>Consumable Properties</h3>
      <div class="form-group">
        <label>Consumable Type</label>
        <select name="system.consumableType">
          <option value="potion" {{#if (eq system.consumableType "potion")}}selected{{/if}}>Potion</option>
          <option value="scroll" {{#if (eq system.consumableType "scroll")}}selected{{/if}}>Scroll</option>
          <option value="wand" {{#if (eq system.consumableType "wand")}}selected{{/if}}>Wand</option>
          <option value="rod" {{#if (eq system.consumableType "rod")}}selected{{/if}}>Rod</option>
          <option value="staff" {{#if (eq system.consumableType "staff")}}selected{{/if}}>Staff</option>
        </select>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Uses</label>
          <input name="system.uses.value" type="number" value="{{system.uses.value}}" min="0"/>
          <span>/</span>
          <input name="system.uses.max" type="number" value="{{system.uses.max}}" min="0"/>
        </div>
      </div>
    </div>
    {{/if}}

    {{#if (eq type "spell")}}
    <div class="item-section">
      <h3>Spell Properties</h3>
      <div class="form-row">
        <div class="form-group">
          <label>School</label>
          <select name="system.school">
            <option value="abj" {{#if (eq system.school "abj")}}selected{{/if}}>Abjuration</option>
            <option value="con" {{#if (eq system.school "con")}}selected{{/if}}>Conjuration</option>
            <option value="div" {{#if (eq system.school "div")}}selected{{/if}}>Divination</option>
            <option value="enc" {{#if (eq system.school "enc")}}selected{{/if}}>Enchantment</option>
            <option value="evo" {{#if (eq system.school "evo")}}selected{{/if}}>Evocation</option>
            <option value="ill" {{#if (eq system.school "ill")}}selected{{/if}}>Illusion</option>
            <option value="nec" {{#if (eq system.school "nec")}}selected{{/if}}>Necromancy</option>
            <option value="trs" {{#if (eq system.school "trs")}}selected{{/if}}>Transmutation</option>
          </select>
        </div>
        <div class="form-group">
          <label>Level</label>
          <input name="system.level" type="number" value="{{system.level}}" min="0" max="9"/>
        </div>
      </div>
      <div class="form-group">
        <label>Casting Time</label>
        <input name="system.castTime" type="text" value="{{system.castTime}}"/>
      </div>
      <div class="form-row">
        <div class="form-group">
          <label>Range</label>
          <input name="system.range.value" type="text" value="{{system.range.value}}"/>
        </div>
        <div class="form-group">
          <label>Duration</label>
          <input name="system.duration" type="text" value="{{system.duration}}"/>
        </div>
      </div>
      <div class="form-group">
        <label>Save DC</label>
        <input name="system.save.dc" type="number" value="{{system.save.dc}}" min="0"/>
      </div>
    </div>
    {{/if}}

  </section>
</form>
